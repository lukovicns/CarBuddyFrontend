<cb-card-form [form]="form"
	[header]="constants.addTrip"
	(onSubmit)="addTrip()">
	<div class="col-12">
		<ng-container *ngIf="isCarEmpty; else hasCar">
			<cb-add-car></cb-add-car>
		</ng-container>

		<ng-template #hasCar>
			<mat-icon class="check">check</mat-icon>
			<span>{{ constants.carAdded }}</span>
		</ng-template>
	</div>

	<div class="col-12">
		<cb-places-autocomplete [form]="form"
			[control]="this.form.get('fromAddress')!"
			[label]="constants.fromAddress"
			[placeholder]="constants.fromAddressPlaceholder"
			searchType="address">
		</cb-places-autocomplete>
	</div>
	<div class="col-12">
		<cb-places-autocomplete [form]="form"
			[control]="this.form.get('toAddress')!"
			[label]="constants.toAddress"
			[placeholder]="constants.toAddressPlaceholder"
			searchType="address">
		</cb-places-autocomplete>
	</div>
	<div class="col-12">
		<cb-date-picker [form]="form"
			[label]="constants.startDate"
			[placeholder]="constants.startDatePlaceholder"
			[startDate]="today"
			[minDate]="today"
			name="date">
		</cb-date-picker>
	</div>
	<div class="col-12">
		<cb-form-field [form]="form"
			[control]="this.form.get('price')!"
			[label]="constants.price"
			[placeholder]="constants.pricePlaceholder"
			type="number">
		</cb-form-field>
	</div>
	<div class="col-12">
		<cb-submit-button [label]="constants.addTrip"
			[isDisabled]="form.invalid || isCarEmpty"
			[isPending]="(isPending$ | async)!">
		</cb-submit-button>
	</div>
</cb-card-form>
