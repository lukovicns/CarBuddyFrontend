<cb-card #scrollableCard>
	<span subheader>
		<cb-avatar></cb-avatar>
		{{ recipient.fullName }}
	</span>

	<div content
		*ngIf="messages$ | async as messages; else loading">
		<cb-message *ngFor="let message of messages; let i = index;"
			[message]="message"
			[previousMessage]="messages[i - 1]"
			[selectedConversation]="selectedConversation">
		</cb-message>
	</div>

	<ng-template #loading>
		<cb-progress-bar></cb-progress-bar>
	</ng-template>

	<cb-send-message footer
		[conversationId]="selectedConversation.id">
	</cb-send-message>
</cb-card>
